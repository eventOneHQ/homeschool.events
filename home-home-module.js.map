{"version":3,"sources":["webpack:///./src/app/home/home.component.html","webpack:///./src/app/home/home.component.scss","webpack:///./src/app/home/home.component.ts","webpack:///./src/app/home/home.module.ts"],"names":[],"mappings":"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","file":"home-home-module.js","sourcesContent":["module.exports = \"<header>\\n  <div class=\\\"row mt-3\\\">\\n    <div class=\\\"col\\\">\\n      <h1 class=\\\"display-4\\\">homeschool.events</h1>\\n      <p class=\\\"lead\\\">A database of homeschool events</p>\\n\\n      <a [routerLink]=\\\"['/submit']\\\" class=\\\"btn btn-primary btn-raised\\\">\\n        Submit an event\\n      </a>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"row\\\">\\n    <div class=\\\"col\\\">\\n      <input\\n        type=\\\"text\\\"\\n        class=\\\"form-control mt-3\\\"\\n        id=\\\"search\\\"\\n        placeholder=\\\"Search...\\\"\\n        [formControl]=\\\"filter\\\"\\n      />\\n    </div>\\n  </div>\\n</header>\\n\\n<div class=\\\"row mb-5\\\">\\n  <div\\n    class=\\\"col-md-4 col-sm-6 col-xs-12 mb-4\\\"\\n    *ngFor=\\\"let event of events$ | async; index as i\\\"\\n  >\\n    <div class=\\\"card h-100 text-center event-card\\\">\\n      <a\\n        [href]=\\\"event.url\\\"\\n        class=\\\"card-body p-4 event-link h-100 d-flex flex-column justify-content-between align-items-center\\\"\\n      >\\n        <img\\n          [src]=\\\"event.logo\\\"\\n          [alt]=\\\"event.name + ' logo'\\\"\\n          class=\\\"event-logo\\\"\\n          (error)=\\\"img.src = defaultImg\\\"\\n          #img\\n        />\\n\\n        <h5 class=\\\"card-title\\\">\\n          {{ event.name }}\\n        </h5>\\n        <h6 class=\\\"card-subtitle mb-2 text-muted\\\">\\n          {{ event.startDate | date: 'MMM d' }} -\\n          {{ event.endDate | date: 'mediumDate' }}\\n          - <b>{{ event.type }}</b>\\n        </h6>\\n\\n        <p class=\\\"card-text\\\">\\n          {{ event.location.city }},\\n          {{ event.location.state }}\\n        </p>\\n      </a>\\n    </div>\\n  </div>\\n</div>\\n\"","module.exports = \".event-link {\\n  color: #212529;\\n  text-decoration: none; }\\n\\n.event-link:hover {\\n  color: #212529;\\n  text-decoration: none; }\\n\\n.event-card {\\n  transition: all 0.25s ease-out 0s;\\n  box-shadow: rgba(192, 192, 192, 0.557) 0px 8px 30px;\\n  border-radius: 8px; }\\n\\n.event-card:hover {\\n  -webkit-transform: translateY(-4px);\\n          transform: translateY(-4px); }\\n\\n.event-logo {\\n  max-height: 45px;\\n  border-radius: 4px; }\\n\\nheader {\\n  padding-top: 150px;\\n  padding-bottom: 150px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3RyYXZpcy9idWlsZC9ldmVudE9uZUhRL2hvbWVzY2hvb2wuZXZlbnRzL3NyYy9hcHAvaG9tZS9ob21lLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsY0FBYztFQUNkLHFCQUFxQixFQUFBOztBQUd2QjtFQUNFLGNBQWM7RUFDZCxxQkFBcUIsRUFBQTs7QUFHdkI7RUFDRSxpQ0FBaUM7RUFDakMsbURBQW1EO0VBQ25ELGtCQUFrQixFQUFBOztBQUdwQjtFQUNFLG1DQUEyQjtVQUEzQiwyQkFBMkIsRUFBQTs7QUFHN0I7RUFDRSxnQkFBZ0I7RUFDaEIsa0JBQWtCLEVBQUE7O0FBR3BCO0VBQ0Usa0JBQWtCO0VBQ2xCLHFCQUFxQixFQUFBIiwiZmlsZSI6InNyYy9hcHAvaG9tZS9ob21lLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmV2ZW50LWxpbmsge1xyXG4gIGNvbG9yOiAjMjEyNTI5O1xyXG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxufVxyXG5cclxuLmV2ZW50LWxpbms6aG92ZXIge1xyXG4gIGNvbG9yOiAjMjEyNTI5O1xyXG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxufVxyXG5cclxuLmV2ZW50LWNhcmQge1xyXG4gIHRyYW5zaXRpb246IGFsbCAwLjI1cyBlYXNlLW91dCAwcztcclxuICBib3gtc2hhZG93OiByZ2JhKDE5MiwgMTkyLCAxOTIsIDAuNTU3KSAwcHggOHB4IDMwcHg7XHJcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xyXG59XHJcblxyXG4uZXZlbnQtY2FyZDpob3ZlciB7XHJcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC00cHgpO1xyXG59XHJcblxyXG4uZXZlbnQtbG9nbyB7XHJcbiAgbWF4LWhlaWdodDogNDVweDtcclxuICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbn1cclxuXHJcbmhlYWRlciB7XHJcbiAgcGFkZGluZy10b3A6IDE1MHB4O1xyXG4gIHBhZGRpbmctYm90dG9tOiAxNTBweDtcclxufVxyXG4iXX0= */\"","import { Component, OnInit } from '@angular/core'\n\nimport { Event } from '../events'\nimport { states } from '../states'\nimport { FormControl } from '@angular/forms'\nimport { Observable } from 'rxjs'\nimport { map, startWith } from 'rxjs/operators'\nimport { ApiService } from '../api.service'\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.scss']\n})\nexport class HomeComponent implements OnInit {\n  events: Event[]\n  events$: Observable<Event[]>\n  filter = new FormControl('')\n  nowDate = new Date()\n\n  defaultImg = 'assets/blank.svg'\n\n  constructor(private api: ApiService) {}\n\n  includes(text, term) {\n    if (text) {\n      return text.toLowerCase().includes(term.toLowerCase())\n    }\n    return false\n  }\n\n  search(term: string): Event[] {\n    if (!this.events) {\n      return\n    }\n\n    return this.events.filter(event => {\n      const state = states.find(st => st.abbreviation === event.location.state)\n\n      return (\n        this.includes(event.name, term) ||\n        this.includes(event.location.city, term) ||\n        this.includes(state.abbreviation, term) ||\n        this.includes(state.name, term)\n      )\n    })\n  }\n\n  ngOnInit() {\n    this.nowDate.setHours(0, 0, 0, 0)\n\n    this.getData()\n  }\n\n  getData() {\n    this.api.getEvents().subscribe((events: Event[]) => {\n      for (const event of events) {\n        const domain = new URL(event.url).hostname\n\n        event.logo = `https://logo.clearbit.com/${domain}`\n      }\n\n      // filter out past events\n      this.events = events.filter(event => {\n        const endDate = new Date(event.endDate)\n        endDate.setHours(0, 0, 0, 0)\n\n        return this.nowDate.getTime() <= endDate.getTime()\n      })\n\n      // sort by start date\n      this.events = this.events.sort((a, b) => {\n        return (\n          (new Date(parseFloat(b.startDate)) as any) -\n          (new Date(parseFloat(a.startDate)) as any)\n        )\n      })\n\n      this.events$ = this.filter.valueChanges.pipe(\n        startWith(''),\n        map(text => this.search(text))\n      )\n    })\n  }\n}\n","import { NgbModule } from '@ng-bootstrap/ng-bootstrap'\nimport { RouterModule, Routes } from '@angular/router'\nimport { NgModule } from '@angular/core'\nimport { CommonModule } from '@angular/common'\nimport { HomeComponent } from './home.component'\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms'\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HomeComponent\n  }\n]\n\n@NgModule({\n  declarations: [HomeComponent],\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    RouterModule.forChild(routes),\n    NgbModule\n  ]\n})\nexport class HomeModule {}\n"],"sourceRoot":""}